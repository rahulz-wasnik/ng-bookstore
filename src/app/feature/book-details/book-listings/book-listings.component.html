<!-- <mat-spinner *ngIf="operationInProgress"></mat-spinner> -->

<div *ngIf="(!operationInProgress && !error); else errorBlock">
        <mat-card>
                <mat-card-title>{{count}}</mat-card-title>
                <mat-card-content>
                        <div>
                                <div *ngIf="books && books.length > 0; else noBooks">
                                        <div class="app-mt-1" *ngFor="let book of books; let i = index;">
                                                <mat-accordion>
                                                        <mat-expansion-panel>
                                                                <mat-expansion-panel-header>
                                                                        <mat-panel-title>
                                                                                {{book.title}}
                                                                        </mat-panel-title>
                                                                </mat-expansion-panel-header>
                                                                <div id="category{{i}}" class="app-mt-1">
                                                                        {{book.category}}
                                                                </div>
                                                                <div id="description{{i}}" class="app-mt-1">
                                                                        {{book.description}}
                                                                </div>
                                                        </mat-expansion-panel>
                                                </mat-accordion>
                                        </div>
                                </div>
                                <ng-template #noBooks>
                                        <div class="app-text-center mat-body-1">No books have been added yet.</div>
                                </ng-template>
                        </div>
                </mat-card-content>
        </mat-card>

        <div class="app-mt-1">
                <mat-paginator [length]="count" *ngIf="books && books.length > 0" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
                        (page)="onPageChange($event)">
                </mat-paginator>
        </div>
</div>

<ng-template #errorBlock>
        <div class="app-text-center mat-error mat-body-1">{{error}}</div>
</ng-template>